<div class="gestion-container">
    <h2>Gestión de Usuarios</h2>

    <form id="userForm" class="crud-form">
        <h3><span id="formTitle">Crear</span> Usuario</h3>
        <input type="hidden" id="userId"> 

        <div class="form-group">
            <label for="userName">Nombre:</label>
            <input type="text" id="userName" required>
        </div>
        <div class="form-group">
            <label for="userEmail">Email:</label>
            <input type="email" id="userEmail" required>
        </div>
        <div class="form-group">
            <label for="userPassword">Contraseña:</label>
            <input type="password" id="userPassword" placeholder="Solo si deseas cambiarla o crear un nuevo usuario">
        </div>
        <div class="form-group">
            <label for="userRole">Rol:</label>
            <select id="userRole" required>
                <option value="">-- Selecciona un rol --</option>
                <option value="1">Administrador</option>
                <option value="2">Mesero</option>
                <option value="3">Cocinero</option>
            </select>
        </div>

        <button type="submit" id="submitBtn" class="btn btn-primary">Crear Usuario</button>
        <button type="button" id="cancelBtn" class="btn btn-secondary" style="display:none;">Cancelar Edición</button>
        <p id="formMessage" class="message"></p>
    </form>

    <hr>

    <h3>Listado de Usuarios</h3>
    <div class="table-responsive">
        <table class="crud-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nombre</th>
                    <th>Email</th>
                    <th>Rol</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody id="usersTableBody">
                <tr><td colspan="5">Cargando usuarios...</td></tr>
            </tbody>
        </table>
        <p id="listMessage" class="message"></p>
    </div>

    <button class="btn btn-back mt-4" onclick="window.router.navigate('/dashboard')">Volver al Dashboard</button>
</div>